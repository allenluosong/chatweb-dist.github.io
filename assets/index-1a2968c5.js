import{d as S,a2 as z,ai as D,A as L,O as T,h as y,B as x,C as w,J as t,S as b,D as e,Q as i,U as s,W as o,_,ab as C,ac as v,I as O,a9 as j,aj as A,r as V,F as E,ak as F,al as I,am as J,an as M}from"./index-d987d484.js";function R(){const c=new Date,n=c.getDate(),u=c.getMonth()+1;return`${c.getFullYear()}-${u}-${n}`}const W={class:"p-4 space-y-5 min-h-[200px]"},G={class:"space-y-6"},H={class:"flex-shrink-0 w-[100px]"},P={class:"flex flex-wrap items-center gap-4"},Q={class:"flex items-center space-x-4"},Y={class:"flex-shrink-0 w-[100px]"},q={class:"flex flex-wrap items-center gap-4"},K={class:"flex items-center space-x-4"},X={class:"flex-shrink-0 w-[100px]"},Z={class:"flex flex-wrap items-center gap-4"},ee={class:"flex-shrink-0 w-[100px]"},te={class:"flex flex-wrap items-center gap-4"},se=S({__name:"General",setup(c){const n=z(),u=D(),p=L(),{isMobile:r}=T(),g=y(()=>n.theme),d=y({get(){return n.language},set(a){n.setLanguage(a)}}),m=[{label:"Auto",key:"auto",icon:"ri:contrast-line"},{label:"Light",key:"light",icon:"ri:sun-foggy-line"},{label:"Dark",key:"dark",icon:"ri:moon-foggy-line"}],$=[{label:"简体中文",key:"zh-CN",value:"zh-CN"},{label:"繁體中文",key:"zh-TW",value:"zh-TW"},{label:"English",key:"en-US",value:"en-US"}];function N(){const a=R(),h=localStorage.getItem("chatStorage")||"{}",l=JSON.stringify(JSON.parse(h),null,2),k=new Blob([l],{type:"application/json"}),B=URL.createObjectURL(k),f=document.createElement("a");f.href=B,f.download=`chat-store_${a}.json`,document.body.appendChild(f),f.click(),document.body.removeChild(f)}function U(){u.removeToken(),p.resetUserInfo(),window.location.reload()}return(a,h)=>(x(),w("div",W,[t("div",G,[t("div",{class:b(["flex items-center space-x-4",e(r)&&"items-start"])},[t("span",H,i(a.$t("setting.chatHistory")),1),t("div",P,[s(e(v),{size:"small",onClick:N},{icon:o(()=>[s(e(_),{icon:"ri:download-2-fill"})]),default:o(()=>[C(" "+i(a.$t("common.export")),1)]),_:1})])],2),t("div",Q,[t("span",Y,i(a.$t("setting.theme")),1),t("div",q,[(x(),w(O,null,j(m,l=>s(e(v),{key:l.key,size:"small",type:l.key===e(g)?"primary":void 0,onClick:k=>e(n).setTheme(l.key)},{icon:o(()=>[s(e(_),{icon:l.icon},null,8,["icon"])]),_:2},1032,["type","onClick"])),64))])]),t("div",K,[t("span",X,i(a.$t("setting.language")),1),t("div",Z,[s(e(A),{style:{width:"140px"},value:e(d),options:$,onUpdateValue:h[0]||(h[0]=l=>e(n).setLanguage(l))},null,8,["value"])])]),t("div",{class:b(["flex items-center space-x-4",e(r)&&"items-start"])},[t("span",ee,i(a.$t("setting.operate")),1),t("div",te,[s(e(v),{size:"small",onClick:U},{icon:o(()=>[s(e(_),{icon:"ion:arrow-undo"})]),default:o(()=>[C(" "+i(a.$t("setting.logout")),1)]),_:1})])],2)])]))}}),ae={class:"ml-2"},oe=S({__name:"index",props:{visible:{type:Boolean}},emits:["update:visible"],setup(c,{emit:n}){const u=c,p=V("Config"),r=y({get(){return u.visible},set(g){n("update:visible",g)}});return(g,d)=>(x(),E(e(M),{show:e(r),"onUpdate:show":d[1]||(d[1]=m=>J(r)?r.value=m:null),"auto-focus":!1,preset:"card",style:{width:"95%","max-width":"640px"}},{default:o(()=>[t("div",null,[s(e(F),{value:p.value,"onUpdate:value":d[0]||(d[0]=m=>p.value=m),type:"line",animated:""},{default:o(()=>[s(e(I),{name:"Config",tab:"Config"},{tab:o(()=>[s(e(_),{class:"text-lg",icon:"ri:list-settings-line"}),t("span",ae,i(g.$t("setting.config")),1)]),default:o(()=>[s(se)]),_:1})]),_:1},8,["value"])])]),_:1},8,["show"]))}});export{oe as default};
